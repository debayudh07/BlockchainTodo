{"id":"node_modules/ethers/lib.esm/providers/signer-noncemanager.js","dependencies":[{"name":"E:\\myprojects\\blockchain\\node_modules\\ethers\\lib.esm\\providers\\signer-noncemanager.js.map","includedInParent":true,"mtime":1724758823086},{"name":"E:\\myprojects\\blockchain\\node_modules\\ethers\\src.ts\\providers\\signer-noncemanager.ts","includedInParent":true,"mtime":1724758823350},{"name":"E:\\myprojects\\blockchain\\package.json","includedInParent":true,"mtime":1724758869620},{"name":"E:\\myprojects\\blockchain\\node_modules\\ethers\\lib.esm\\package.json","includedInParent":true,"mtime":1724758822876},{"name":"../utils/index.js","loc":{"line":1,"column":33,"index":33},"parent":"E:\\myprojects\\blockchain\\node_modules\\ethers\\lib.esm\\providers\\signer-noncemanager.js","resolved":"E:\\myprojects\\blockchain\\node_modules\\ethers\\lib.esm\\utils\\index.js"},{"name":"./abstract-signer.js","loc":{"line":2,"column":31,"index":85},"parent":"E:\\myprojects\\blockchain\\node_modules\\ethers\\lib.esm\\providers\\signer-noncemanager.js","resolved":"E:\\myprojects\\blockchain\\node_modules\\ethers\\lib.esm\\providers\\abstract-signer.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonceManager = void 0;\nvar _index = require(\"../utils/index.js\");\nvar _abstractSigner = require(\"./abstract-signer.js\");\n/**\n *  A **NonceManager** wraps another [[Signer]] and automatically manages\n *  the nonce, ensuring serialized and sequential nonces are used during\n *  transaction.\n */\nclass NonceManager extends _abstractSigner.AbstractSigner {\n  /**\n   *  The Signer being managed.\n   */\n  signer;\n  #noncePromise;\n  #delta;\n  /**\n   *  Creates a new **NonceManager** to manage %%signer%%.\n   */\n  constructor(signer) {\n    super(signer.provider);\n    (0, _index.defineProperties)(this, {\n      signer\n    });\n    this.#noncePromise = null;\n    this.#delta = 0;\n  }\n  async getAddress() {\n    return this.signer.getAddress();\n  }\n  connect(provider) {\n    return new NonceManager(this.signer.connect(provider));\n  }\n  async getNonce(blockTag) {\n    if (blockTag === \"pending\") {\n      if (this.#noncePromise == null) {\n        this.#noncePromise = super.getNonce(\"pending\");\n      }\n      const delta = this.#delta;\n      return (await this.#noncePromise) + delta;\n    }\n    return super.getNonce(blockTag);\n  }\n  /**\n   *  Manually increment the nonce. This may be useful when managng\n   *  offline transactions.\n   */\n  increment() {\n    this.#delta++;\n  }\n  /**\n   *  Resets the nonce, causing the **NonceManager** to reload the current\n   *  nonce from the blockchain on the next transaction.\n   */\n  reset() {\n    this.#delta = 0;\n    this.#noncePromise = null;\n  }\n  async sendTransaction(tx) {\n    const noncePromise = this.getNonce(\"pending\");\n    this.increment();\n    tx = await this.signer.populateTransaction(tx);\n    tx.nonce = await noncePromise;\n    // @TODO: Maybe handle interesting/recoverable errors?\n    // Like don't increment if the tx was certainly not sent\n    return await this.signer.sendTransaction(tx);\n  }\n  signTransaction(tx) {\n    return this.signer.signTransaction(tx);\n  }\n  signMessage(message) {\n    return this.signer.signMessage(message);\n  }\n  signTypedData(domain, types, value) {\n    return this.signer.signTypedData(domain, types, value);\n  }\n}\nexports.NonceManager = NonceManager;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":13}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":0}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":19}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":29}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":9,"column":0}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":17,"column":6},"generated":{"line":14,"column":0}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":14,"column":6}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":17,"column":26},"generated":{"line":14,"column":18}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":17,"column":34},"generated":{"line":14,"column":27}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":17,"column":48},"generated":{"line":14,"column":57}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":17,"column":48},"generated":{"line":14,"column":58}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":15,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":18,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":18,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":19,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":19,"column":3}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":23,"column":17},"generated":{"line":19,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":20,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":20,"column":3}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":20,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":21,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":24,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":24,"column":13}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":24,"column":14}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":29,"column":30},"generated":{"line":24,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":29,"column":30},"generated":{"line":24,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":25,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":25,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":30,"column":14},"generated":{"line":25,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":25,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":25,"column":17}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":30,"column":29},"generated":{"line":25,"column":25}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":30,"column":30},"generated":{"line":25,"column":26}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":26,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":26,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":26,"column":31}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":26,"column":33}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":43},"generated":{"line":26,"column":37}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":45},"generated":{"line":26,"column":39}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":47},"generated":{"line":27,"column":6}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":53},"generated":{"line":28,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":55},"generated":{"line":28,"column":5}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":31,"column":56},"generated":{"line":28,"column":6}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":29,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":29,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":29,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":29,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":33,"column":26},"generated":{"line":29,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":33,"column":29},"generated":{"line":29,"column":25}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":33,"column":33},"generated":{"line":29,"column":29}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":30,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":30,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":30,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":30,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":30,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":30,"column":18}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":30,"column":19}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":31,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":32,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":32,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":32,"column":18}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":32,"column":19}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":32,"column":21}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":33,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":33,"column":11}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":19},"generated":{"line":33,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":20},"generated":{"line":33,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":33,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":33,"column":23}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":37},"generated":{"line":33,"column":33}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":37},"generated":{"line":33,"column":34}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":38,"column":39},"generated":{"line":33,"column":35}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":34,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":35,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":41,"column":11},"generated":{"line":35,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":35,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":41,"column":37},"generated":{"line":35,"column":18}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":41,"column":37},"generated":{"line":35,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":36,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":15},"generated":{"line":36,"column":11}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":19},"generated":{"line":36,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":31},"generated":{"line":36,"column":27}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":36,"column":28}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":36,"column":32}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":37},"generated":{"line":36,"column":33}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":43},"generated":{"line":36,"column":39}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":44},"generated":{"line":36,"column":40}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":51},"generated":{"line":36,"column":47}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":52},"generated":{"line":36,"column":48}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":60},"generated":{"line":36,"column":56}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":61},"generated":{"line":36,"column":57}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":42,"column":62},"generated":{"line":36,"column":58}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":37,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":38,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":38,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":45,"column":18},"generated":{"line":38,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":45,"column":19},"generated":{"line":38,"column":17}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":45,"column":38},"generated":{"line":38,"column":25}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":45,"column":38},"generated":{"line":38,"column":27}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":39,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":39,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":46,"column":20},"generated":{"line":39,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":46,"column":25},"generated":{"line":39,"column":21}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":46,"column":34},"generated":{"line":39,"column":30}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":46,"column":36},"generated":{"line":39,"column":32}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":40,"column":6}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":40,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":20},"generated":{"line":40,"column":14}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":21},"generated":{"line":40,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":21},"generated":{"line":40,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":40,"column":28}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":38},"generated":{"line":40,"column":32}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":42},"generated":{"line":40,"column":36}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":47,"column":44},"generated":{"line":40,"column":38}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":41,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":41,"column":12}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":41,"column":13}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":41,"column":14}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":34},"generated":{"line":41,"column":26}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":37},"generated":{"line":41,"column":29}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":42},"generated":{"line":41,"column":34}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":43},"generated":{"line":41,"column":35}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":51},"generated":{"line":41,"column":43}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":52},"generated":{"line":41,"column":44}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":61},"generated":{"line":41,"column":53}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":48,"column":62},"generated":{"line":41,"column":54}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":43,"column":6}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":51,"column":18},"generated":{"line":43,"column":12}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":51,"column":23},"generated":{"line":43,"column":17}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":51,"column":26},"generated":{"line":43,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":51,"column":30},"generated":{"line":43,"column":24}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":51,"column":31},"generated":{"line":43,"column":25}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":51,"column":31},"generated":{"line":43,"column":26}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":51,"column":37},"generated":{"line":43,"column":31}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":44,"column":6}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":19},"generated":{"line":44,"column":13}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":44,"column":14}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":26},"generated":{"line":44,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":30},"generated":{"line":44,"column":24}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":31},"generated":{"line":44,"column":25}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":31},"generated":{"line":44,"column":26}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":44},"generated":{"line":44,"column":38}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":48},"generated":{"line":44,"column":42}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":52,"column":53},"generated":{"line":44,"column":47}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":46,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":55,"column":15},"generated":{"line":46,"column":11}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":55,"column":20},"generated":{"line":46,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":55,"column":21},"generated":{"line":46,"column":17}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":55,"column":29},"generated":{"line":46,"column":25}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":55,"column":30},"generated":{"line":46,"column":26}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":55,"column":38},"generated":{"line":46,"column":34}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":55,"column":39},"generated":{"line":46,"column":35}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":47,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":48,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":62,"column":4},"generated":{"line":52,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":52,"column":11}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":52,"column":12}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":52,"column":14}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":53,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":53,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":63,"column":13},"generated":{"line":53,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":63,"column":13},"generated":{"line":53,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":63,"column":19},"generated":{"line":53,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":63,"column":21},"generated":{"line":53,"column":17}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":54,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":55,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":59,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":59,"column":7}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":59,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":59,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":60,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":60,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":60,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":60,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":71,"column":19},"generated":{"line":60,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":71,"column":22},"generated":{"line":60,"column":18}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":71,"column":23},"generated":{"line":60,"column":19}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":61,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":72,"column":12},"generated":{"line":61,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":61,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":72,"column":13},"generated":{"line":61,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":72,"column":26},"generated":{"line":61,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":72,"column":29},"generated":{"line":61,"column":25}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":72,"column":33},"generated":{"line":61,"column":29}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":62,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":63,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":75,"column":10},"generated":{"line":63,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":75,"column":25},"generated":{"line":63,"column":23}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":75,"column":26},"generated":{"line":63,"column":24}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":75,"column":48},"generated":{"line":63,"column":26}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":75,"column":48},"generated":{"line":63,"column":28}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":64,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":14},"generated":{"line":64,"column":10}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":26},"generated":{"line":64,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":29},"generated":{"line":64,"column":25}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":33},"generated":{"line":64,"column":29}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":34},"generated":{"line":64,"column":30}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":42},"generated":{"line":64,"column":38}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":43},"generated":{"line":64,"column":39}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":52},"generated":{"line":64,"column":48}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":76,"column":53},"generated":{"line":64,"column":49}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":65,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":65,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":77,"column":13},"generated":{"line":65,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":77,"column":22},"generated":{"line":65,"column":18}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":77,"column":22},"generated":{"line":65,"column":19}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":77,"column":24},"generated":{"line":65,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":66,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":10},"generated":{"line":66,"column":6}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":66,"column":9}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":19},"generated":{"line":66,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":23},"generated":{"line":66,"column":19}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":24},"generated":{"line":66,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":30},"generated":{"line":66,"column":26}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":31},"generated":{"line":66,"column":27}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":50},"generated":{"line":66,"column":46}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":51},"generated":{"line":66,"column":47}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":53},"generated":{"line":66,"column":49}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":79,"column":54},"generated":{"line":66,"column":50}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":67,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":80,"column":10},"generated":{"line":67,"column":6}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":80,"column":11},"generated":{"line":67,"column":7}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":80,"column":16},"generated":{"line":67,"column":12}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":80,"column":19},"generated":{"line":67,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":80,"column":25},"generated":{"line":67,"column":21}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":80,"column":37},"generated":{"line":67,"column":33}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":68,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":83,"column":8},"generated":{"line":69,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":70,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":15},"generated":{"line":70,"column":11}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":21},"generated":{"line":70,"column":17}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":25},"generated":{"line":70,"column":21}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":70,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":32},"generated":{"line":70,"column":28}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":33},"generated":{"line":70,"column":29}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":48},"generated":{"line":70,"column":44}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":49},"generated":{"line":70,"column":45}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":51},"generated":{"line":70,"column":47}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":84,"column":52},"generated":{"line":70,"column":48}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":71,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":87,"column":4},"generated":{"line":72,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":87,"column":19},"generated":{"line":72,"column":17}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":87,"column":20},"generated":{"line":72,"column":18}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":87,"column":42},"generated":{"line":72,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":87,"column":42},"generated":{"line":72,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":73,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":15},"generated":{"line":73,"column":11}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":19},"generated":{"line":73,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":20},"generated":{"line":73,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":26},"generated":{"line":73,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":27},"generated":{"line":73,"column":23}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":42},"generated":{"line":73,"column":38}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":43},"generated":{"line":73,"column":39}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":45},"generated":{"line":73,"column":41}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":88,"column":46},"generated":{"line":73,"column":42}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":89,"column":4},"generated":{"line":74,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":91,"column":4},"generated":{"line":75,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":91,"column":15},"generated":{"line":75,"column":13}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":75,"column":14}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":91,"column":44},"generated":{"line":75,"column":21}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":91,"column":44},"generated":{"line":75,"column":23}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":76,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":15},"generated":{"line":76,"column":11}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":19},"generated":{"line":76,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":20},"generated":{"line":76,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":26},"generated":{"line":76,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":27},"generated":{"line":76,"column":23}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":38},"generated":{"line":76,"column":34}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":39},"generated":{"line":76,"column":35}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":46},"generated":{"line":76,"column":42}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":92,"column":47},"generated":{"line":76,"column":43}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":77,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":4},"generated":{"line":78,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":17},"generated":{"line":78,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":18},"generated":{"line":78,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":41},"generated":{"line":78,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":43},"generated":{"line":78,"column":24}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":87},"generated":{"line":78,"column":29}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":89},"generated":{"line":78,"column":31}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":115},"generated":{"line":78,"column":36}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":95,"column":115},"generated":{"line":78,"column":38}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":79,"column":4}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":15},"generated":{"line":79,"column":11}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":19},"generated":{"line":79,"column":15}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":20},"generated":{"line":79,"column":16}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":26},"generated":{"line":79,"column":22}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":27},"generated":{"line":79,"column":23}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":40},"generated":{"line":79,"column":36}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":41},"generated":{"line":79,"column":37}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":47},"generated":{"line":79,"column":43}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":49},"generated":{"line":79,"column":45}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":54},"generated":{"line":79,"column":50}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":56},"generated":{"line":79,"column":52}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":61},"generated":{"line":79,"column":57}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":96,"column":62},"generated":{"line":79,"column":58}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":80,"column":2}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":98,"column":1},"generated":{"line":82,"column":0}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":98,"column":1},"generated":{"line":82,"column":7}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":98,"column":1},"generated":{"line":82,"column":8}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":98,"column":1},"generated":{"line":82,"column":20}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":98,"column":1},"generated":{"line":82,"column":23}},{"source":"../../src.ts/providers/signer-noncemanager.ts","name":null,"original":{"line":98,"column":1},"generated":{"line":82,"column":35}}],"sources":{"../../src.ts/providers/signer-noncemanager.ts":"import { defineProperties } from \"../utils/index.js\";\nimport { AbstractSigner } from \"./abstract-signer.js\";\n\nimport type { TypedDataDomain, TypedDataField } from \"../hash/index.js\";\n\nimport type {\n    BlockTag, Provider, TransactionRequest, TransactionResponse\n} from \"./provider.js\";\nimport type { Signer } from \"./signer.js\";\n\n\n/**\n *  A **NonceManager** wraps another [[Signer]] and automatically manages\n *  the nonce, ensuring serialized and sequential nonces are used during\n *  transaction.\n */\nexport class NonceManager extends AbstractSigner {\n    /**\n     *  The Signer being managed.\n     */\n    signer!: Signer;\n\n    #noncePromise: null | Promise<number>;\n    #delta: number;\n\n    /**\n     *  Creates a new **NonceManager** to manage %%signer%%.\n     */\n    constructor(signer: Signer) {\n        super(signer.provider);\n        defineProperties<NonceManager>(this, { signer });\n\n        this.#noncePromise = null;\n        this.#delta = 0;\n    }\n\n    async getAddress(): Promise<string> {\n        return this.signer.getAddress();\n    }\n\n    connect(provider: null | Provider): NonceManager {\n        return new NonceManager(this.signer.connect(provider));\n    }\n\n    async getNonce(blockTag?: BlockTag): Promise<number> {\n        if (blockTag === \"pending\") {\n            if (this.#noncePromise == null) {\n                this.#noncePromise = super.getNonce(\"pending\");\n            }\n\n            const delta = this.#delta;\n            return (await this.#noncePromise) + delta;\n        }\n\n        return super.getNonce(blockTag);\n    }\n\n    /**\n     *  Manually increment the nonce. This may be useful when managng\n     *  offline transactions.\n     */\n    increment(): void {\n        this.#delta++;\n    }\n\n    /**\n     *  Resets the nonce, causing the **NonceManager** to reload the current\n     *  nonce from the blockchain on the next transaction.\n     */\n    reset(): void {\n        this.#delta = 0;\n        this.#noncePromise = null;\n    }\n\n    async sendTransaction(tx: TransactionRequest): Promise<TransactionResponse> {\n        const noncePromise = this.getNonce(\"pending\");\n        this.increment();\n\n        tx = await this.signer.populateTransaction(tx);\n        tx.nonce = await noncePromise;\n\n        // @TODO: Maybe handle interesting/recoverable errors?\n        // Like don't increment if the tx was certainly not sent\n        return await this.signer.sendTransaction(tx);\n    }\n\n    signTransaction(tx: TransactionRequest): Promise<string> {\n        return this.signer.signTransaction(tx);\n    }\n\n    signMessage(message: string | Uint8Array): Promise<string> {\n        return this.signer.signMessage(message);\n    }\n\n    signTypedData(domain: TypedDataDomain, types: Record<string, Array<TypedDataField>>, value: Record<string, any>): Promise<string> {\n        return this.signer.signTypedData(domain, types, value);\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"1a00ac338b2f72447d2b0e85db3f706a","cacheData":{"env":{}}}